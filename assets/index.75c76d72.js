var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s;import{i as l,p as c,v as i,d as u,u as d,o as m,c as p,a as f,t as y,T as b,b as v,F as g,e as h,r as P,f as x,g as C,w as k,h as w,j as U,k as E,l as N,m as Q,n as S,q as $,s as q,x as j,y as O,z as I,A as D,S as _,B as A,C as L,D as V,E as B,G as R}from"./vendor.8db17956.js";const T=Symbol("version");const Y=u({name:"Header",setup(){const{state:e}=d();return{version:l(T),state:e}}}),H={class:"py-5 text-center"},G=f("img",{class:"d-block mx-auto mb-4",src:"./logo.png",alt:"",width:"72",height:"72"},null,-1),F={class:"lead"},M={class:"mb-1"},z=f("x-username",null,null,-1);Y.render=function(e,t,n,s,a,o){return m(),p(g,null,[f("div",H,[G,f("h2",null,"Vue "+y(e.version)+" Playground",1),f("p",F," Below is an example form built with the Vue "+y(e.version)+" Composition API. ",1)]),(m(),p(b,{to:"#footer"},[f("p",M,[v("Â© "+y(e.state.year)+" ",1),z])]))],64)};const J=u({name:"App",components:{Header:Y},setup(){const{dispatch:e}=d();c(T,i),h((()=>{e("onSetYear",(new Date).getFullYear())}))}});J.render=function(e,t,n,s,a,o){const r=P("Header"),l=P("router-view");return m(),p(g,null,[f(r),f(l)],64)};var W=x({state:{year:"1970"},actions:{onSetYear:({commit:e},t)=>{e("setYear",t)}},mutations:{setYear:(e,t)=>{e.year=t}}});const K=u({name:"Coupon",props:["percent"],emits:["redeem"],setup(e,{emit:t}){const n=C(e.percent);return{percent:n,useCoupon:()=>t("redeem",n.value)}}}),X={class:"card p-2"},Z={class:"input-group"},ee={class:"input-group-append"};K.render=function(e,t,n,s,a,o){return m(),p("form",X,[f("div",Z,[k(f("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.percent=t),type:"text",class:"form-control",placeholder:"Promo code"},null,512),[[w,e.percent]]),f("div",ee,[f("button",{onClick:t[2]||(t[2]=(...t)=>e.useCoupon&&e.useCoupon(...t)),type:"button",class:"btn btn-secondary"},"Redeem")])])])};const te=u({name:"Item",props:["name","price","quantity"],emits:["update:name","update:price","update:quantity"],setup:(e,{emit:t})=>({updateName:e=>t("update:name",e),updatePrice:e=>t("update:price",e),updateQuantity:e=>t("update:quantity",e)})}),ne={class:"row"},se={class:"col-md-6 mb-3"},ae=f("label",{for:"item-name"},"Name",-1),oe={class:"col-md-3 mb-3"},re=f("label",{for:"item-price"},"Price",-1),le={class:"col-md-3 mb-3"},ce=f("label",{for:"item-quantity"},"Quantity",-1);te.render=function(e,t,n,s,a,o){return m(),p("div",ne,[f("div",se,[ae,f("input",{value:e.name,onInput:t[1]||(t[1]=t=>e.updateName(t.target.value)),type:"text",class:"form-control",id:"item-name"},null,40,["value"])]),f("div",oe,[re,f("input",{value:e.price,onInput:t[2]||(t[2]=t=>e.updatePrice(t.target.value)),type:"number",class:"form-control",id:"item-price"},null,40,["value"])]),f("div",le,[ce,f("input",{value:e.quantity,onInput:t[3]||(t[3]=t=>e.updateQuantity(t.target.value)),type:"number",class:"form-control",id:"item-quantity"},null,40,["value"])])])};const ie=u({setup:async()=>({rates:(await Promise.resolve({base:"EUR",date:"2021-05-08",rates:{GBP:.870389,USD:1.216325}})).rates})}),ue={class:"list-group"},de={class:"list-group-item"},me={class:"list-group-item"};let pe;ie.render=function(e,t,n,s,a,o){return m(),p("ul",ue,[f("li",de,"Change to USD: "+y(e.rates.USD),1),f("li",me,"Change to GBP: "+y(e.rates.GBP),1)])};const fe={};var ye=u({name:"Spinner",render:()=>U("div",{class:"spinner-border",role:"status"},[U("span",{class:"sr-only"},"Loading...")])}),be=E({loader:()=>function(e,t){if(!t)return e();if(void 0===pe){const e=document.createElement("link").relList;pe=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in fe)return;fe[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":pe,t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((e,t)=>{s.addEventListener("load",e),s.addEventListener("error",t)})):void 0}))).then((()=>e()))}((()=>import("./Payment.19420dcd.js")),["./assets/Payment.19420dcd.js","./assets/vendor.8db17956.js"]),loadingComponent:ye,delay:0,onError(e,t,n,s){console.log("Retrying to load component",e),t()}});const ve=u({name:"Username",setup:()=>({label:"Username"})}),ge={class:"mb-3"},he=f("label",{for:"username"},"Default label",-1),Pe=f("div",{class:"input-group"},[f("div",{class:"input-group-prepend"}),f("input",{type:"text",class:"form-control",id:"username",placeholder:"Username"}),f("div",{class:"invalid-feedback",style:{width:"100%"}}," Your username is required. ")],-1);ve.render=function(e,t,n,s,a,o){return m(),p("div",ge,[N(e.$slots,"default",{label:e.label},(()=>[he])),Pe])};const xe=u({name:"Cart",components:{Coupon:K,Item:te,Exchange:ie,AsyncPayment:be,Spinner:ye,Username:ve},setup(){console.log("setup");const{product:e,secondName:l,secondPrice:c,secondQuantity:i,total:u,coupon:d,setCoupon:m}=(()=>{const e=Q({firstName:"First Product",firstPrice:10,firstQuantity:1}),t=C("Second Product"),n=C(20),s=C(2),a=S((()=>(e.firstPrice*e.firstQuantity+n.value*s.value)*(100-o.value)/100)),o=C(10);return{product:e,secondName:t,secondPrice:n,secondQuantity:s,total:a,coupon:o,setCoupon:e=>o.value=e}})();$((()=>console.log(`watchEffect: ${e.firstName} ${e.firstPrice}x${e.firstQuantity}`))),q([l],(()=>console.log(`watch: ${l.value} ${c.value}x${i.value}`))),h((()=>{console.log("mounted")})),j((()=>console.log("updated"))),O((()=>console.log("onunmounted")));const p=C(null);return I((e=>(p.value=e,!0))),f=((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&r(e,n,t[n]);if(s)for(var n of s(t))o.call(t,n)&&r(e,n,t[n]);return e})({},D(e)),t(f,n({secondName:l,secondPrice:c,secondQuantity:i,total:u,coupon:d,setCoupon:m,error:p}));var f}}),Ce={class:"row"},ke={class:"col-md-4 order-md-2 mb-4"},we=f("h4",{class:"d-flex justify-content-between align-items-center mb-3"},[f("span",{class:"text-muted"},"Cart")],-1),Ue={class:"list-group mb-3"},Ee={class:"list-group-item d-flex justify-content-between lh-condensed"},Ne={class:"my-0"},Qe={class:"text-muted"},Se={class:"list-group-item d-flex justify-content-between lh-condensed"},$e={class:"my-0"},qe={class:"text-muted"},je={class:"list-group-item d-flex justify-content-between"},Oe=f("span",null,"Total (USD)",-1),Ie={key:0},De={class:"col-md-8 order-md-1"},_e=f("h4",{class:"mb-3"},"Items",-1),Ae={class:"needs-validation"},Le={class:"row"},Ve={class:"col-md-6 mb-3"},Be=f("label",{for:"second-item-name"},"Name",-1),Re={class:"col-md-3 mb-3"},Te=f("label",{for:"second-item-price"},"Price",-1),Ye={class:"col-md-3 mb-3"},He=f("label",{for:"second-item-quantity"},"Quantity",-1),Ge={for:"username"},Fe=f("h4",{class:"mb-3"},"Payment",-1),Me=f("hr",{class:"mb-4"},null,-1),ze=v("Continue to checkout");xe.render=function(e,t,n,s,a,o){const r=P("Coupon"),l=P("Exchange"),c=P("Spinner"),i=P("Item"),u=P("Username"),d=P("AsyncPayment"),b=P("router-link");return m(),p("div",Ce,[f("div",ke,[we,f("ul",Ue,[f("li",Ee,[f("div",null,[f("h6",Ne,y(e.firstName),1)]),f("span",Qe,"$"+y(e.firstPrice*e.firstQuantity),1)]),f("li",Se,[f("div",null,[f("h6",$e,y(e.secondName),1)]),f("span",qe,"$"+y(e.secondPrice*e.secondQuantity),1)]),f("li",je,[Oe,f("strong",null,"$"+y(e.total),1)])]),f(r,{percent:10,onRedeem:e.setCoupon},null,8,["onRedeem"]),e.error?(m(),p("div",Ie,y(e.error),1)):(m(),p(_,{key:1},{default:A((()=>[f(l)])),fallback:A((()=>[f(c)])),_:1}))]),f("div",De,[_e,f("form",Ae,[f(i,{name:e.firstName,"onUpdate:name":t[1]||(t[1]=t=>e.firstName=t),price:e.firstPrice,"onUpdate:price":t[2]||(t[2]=t=>e.firstPrice=t),quantity:e.firstQuantity,"onUpdate:quantity":t[3]||(t[3]=t=>e.firstQuantity=t)},null,8,["name","price","quantity"]),f("div",Le,[f("div",Ve,[Be,k(f("input",{"onUpdate:modelValue":t[4]||(t[4]=t=>e.secondName=t),type:"text",class:"form-control",id:"second-item-name"},null,512),[[w,e.secondName]])]),f("div",Re,[Te,k(f("input",{"onUpdate:modelValue":t[5]||(t[5]=t=>e.secondPrice=t),type:"number",class:"form-control",id:"second-item-price"},null,512),[[w,e.secondPrice]])]),f("div",Ye,[He,k(f("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.secondQuantity=t),type:"number",class:"form-control",id:"second-item-quantity"},null,512),[[w,e.secondQuantity]])])])]),f(u,null,{default:A((({label:e})=>[f("label",Ge,y(e),1)])),_:1}),Fe,f(d),Me,f(b,{to:"/checkout",class:"btn btn-primary btn-lg btn-block"},{default:A((()=>[ze])),_:1})])])};const Je=u({name:"Checkout",setup(){const{path:e}=L();return{path:e}}}),We={class:"row"},Ke={class:"col-md-8 order-md-1"},Xe=f("h4",{class:"mb-3"},"Checkout",-1),Ze=v("Back to cart");Je.render=function(e,t,n,s,a,o){const r=P("router-link");return m(),p("div",We,[f("div",Ke,[Xe,f("p",null,y(e.path),1),f(r,{to:"/",class:"btn btn-primary btn-lg btn-block"},{default:A((()=>[Ze])),_:1})])])};var et=V({history:B(),routes:[{path:"/",name:"cart",component:xe},{path:"/checkout",name:"checkout",component:Je}]}),tt={beforeMount(e,t,n,s){console.log(`directive: value - ${t.value}, argument - ${t.arg}, modifiers - ${JSON.stringify(t.modifiers)}`),e.innerHTML='<span class="input-group-text">@</span>'},mounted(){},beforeUpdate(){},updated(){},beforeUnmount(){},unmounted(){}};class nt extends HTMLElement{connectedCallback(){this.innerText="blacksonic"}}customElements.define("x-username",nt);const st=R(J);st.config.isCustomElement=e=>/^x-/.test(e),st.use(W).use(et),st.directive("AtSign",tt),st.mount("#app");
